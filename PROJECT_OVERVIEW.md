# üèóÔ∏è –û–±–∑–æ—Ä –ø—Ä–æ–µ–∫—Ç–∞: –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏

## üìã –ß—Ç–æ —Å–æ–∑–¥–∞–Ω–æ

–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ –¥–µ—Ñ–µ–∫—Ç–∞–º–∏ —Å –ø–æ–ª–Ω–æ–π –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–µ–π, —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–æ–π –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ REST API.

---

## üèõÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

```
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ   Frontend      ‚îÇ  Next.js (React)
‚îÇ   Port: 3000    ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
         ‚îÇ
         ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ  API Gateway    ‚îÇ  FastAPI - –®–ª—é–∑
‚îÇ   Port: 8000    ‚îÇ  ‚Ä¢ JWT –ø—Ä–æ–≤–µ—Ä–∫–∞
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò  ‚Ä¢ Rate Limiting
         ‚îÇ           ‚Ä¢ X-Request-ID
         ‚îÇ           ‚Ä¢ CORS
         ‚îÇ
    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚î¥‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚î¨‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚ñº         ‚ñº          ‚ñº          ‚ñº
‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
‚îÇ Auth   ‚îÇ ‚îÇProjects‚îÇ ‚îÇDefects ‚îÇ ‚îÇReports ‚îÇ
‚îÇ :8001  ‚îÇ ‚îÇ :8002  ‚îÇ ‚îÇ :8003  ‚îÇ ‚îÇ :8004  ‚îÇ
‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò
    ‚îÇ         ‚îÇ          ‚îÇ          ‚îÇ
    ‚ñº         ‚ñº          ‚ñº          ‚ñº
 [auth.db] [proj.db] [def.db]  [SQLite]
```

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
üì¶ –ü—Ä–æ–µ–∫—Ç
‚îú‚îÄ‚îÄ üìÇ backend/                    # Backend –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ api_gateway/            # API Gateway (–ø–æ—Ä—Ç 8000)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py               # –†–æ—É—Ç–∏–Ω–≥, JWT, Rate Limiting, X-Request-ID
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ requirements.txt      # FastAPI, slowapi, httpx
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ service_auth/           # –°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (–ø–æ—Ä—Ç 8001)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py               # –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, JWT
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py             # User, AuthToken
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ crud.py               # CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ schemas.py            # Pydantic —Å—Ö–µ–º—ã
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ database.py           # SQLAlchemy –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data/auth.db          # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ service_projects/       # –°–µ—Ä–≤–∏—Å –ø—Ä–æ–µ–∫—Ç–æ–≤ (–ø–æ—Ä—Ç 8002)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py               # CRUD –¥–ª—è –ø—Ä–æ–µ–∫—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py             # Project
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ events.py             # –î–æ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data/projects.db      # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îÇ
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ service_defects/        # –°–µ—Ä–≤–∏—Å –¥–µ—Ñ–µ–∫—Ç–æ–≤ (–ø–æ—Ä—Ç 8003)
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ main.py               # CRUD –¥–ª—è –¥–µ—Ñ–µ–∫—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ models.py             # Defect, Comment, Attachment
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ events.py             # –î–æ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data/defects.db       # –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö –¥–µ—Ñ–µ–∫—Ç–æ–≤
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îÇ
‚îÇ   ‚îî‚îÄ‚îÄ üìÇ service_reports/        # –°–µ—Ä–≤–∏—Å –æ—Ç—á—ë—Ç–æ–≤ (–ø–æ—Ä—Ç 8004)
‚îÇ       ‚îú‚îÄ‚îÄ main.py               # –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚îÇ       ‚îî‚îÄ‚îÄ Dockerfile
‚îÇ
‚îú‚îÄ‚îÄ üìÇ frontend/                   # Frontend (Next.js)
‚îÇ   ‚îú‚îÄ‚îÄ üìÇ src/app/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ auth/              # –°—Ç—Ä–∞–Ω–∏—Ü—ã –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ projects/          # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ defects/           # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–∞–º–∏
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ dashboard/         # –î–∞—à–±–æ—Ä–¥ —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ üìÇ utils/
‚îÇ   ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ api.ts            # API –∫–ª–∏–µ–Ω—Ç (Axios)
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ üìÇ context/
‚îÇ   ‚îÇ       ‚îî‚îÄ‚îÄ AuthContext.tsx   # –ö–æ–Ω—Ç–µ–∫—Å—Ç –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏
‚îÇ   ‚îî‚îÄ‚îÄ Dockerfile
‚îÇ
‚îú‚îÄ‚îÄ üìÇ docs/                       # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ openapi.yaml              # OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ postman_collection_with_tests.json  # 25 —Ç–µ—Å—Ç–æ–≤ —Å 50 –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ TEST_PLAN.md              # –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ POSTMAN_TESTS_GUIDE.md    # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ —Ç–µ—Å—Ç–∞–º
‚îÇ
‚îú‚îÄ‚îÄ docker-compose.yml             # –û—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è –≤—Å–µ—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
‚îú‚îÄ‚îÄ README.md                      # –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É
‚îî‚îÄ‚îÄ CHECKLIST_TZ.md               # –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¢–ó (95%)
```

---

## üîë –ö–ª—é—á–µ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

### 1. **API Gateway** (`backend/api_gateway/`)
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ï–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç JWT —Ç–æ–∫–µ–Ω—ã
- –û–≥—Ä–∞–Ω–∏—á–∏–≤–∞–µ—Ç —á–∞—Å—Ç–æ—Ç—É –∑–∞–ø—Ä–æ—Å–æ–≤ (Rate Limiting)
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏ –ø—Ä–æ–∫–∏–¥—ã–≤–∞–µ—Ç X-Request-ID
- –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç CORS

**–≠–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
- `/v1/auth/*` ‚Üí service_auth
- `/v1/projects/*` ‚Üí service_projects
- `/v1/defects/*` ‚Üí service_defects
- `/v1/reports/*` ‚Üí service_reports

---

### 2. **Service Auth** (`backend/service_auth/`)
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- –í—Ö–æ–¥ –∏ –≤—ã–¥–∞—á–∞ JWT —Ç–æ–∫–µ–Ω–æ–≤
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ä–æ–ª—è–º–∏ (admin, manager, engineer, observer)
- –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–æ–≤ –≤ –ë–î

**–û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
- `POST /auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `POST /auth/token` - –í—Ö–æ–¥ (–ø–æ–ª—É—á–µ–Ω–∏–µ JWT)
- `GET /auth/users/me` - –¢–µ–∫—É—â–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å
- `GET /auth/users` - –°–ø–∏—Å–æ–∫ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
- `PUT /auth/users/{id}/role` - –ò–∑–º–µ–Ω–µ–Ω–∏–µ —Ä–æ–ª–∏

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** `data/auth.db`
- –¢–∞–±–ª–∏—Ü–∞ `users` - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
- –¢–∞–±–ª–∏—Ü–∞ `auth_tokens` - JWT —Ç–æ–∫–µ–Ω—ã

---

### 3. **Service Projects** (`backend/service_projects/`)
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–º–∏ –ø—Ä–æ–µ–∫—Ç–∞–º–∏
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è –¥–æ–º–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

**–û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
- `POST /projects/` - –°–æ–∑–¥–∞—Ç—å –ø—Ä–æ–µ–∫—Ç
- `GET /projects/` - –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤
- `GET /projects/{id}` - –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
- `PUT /projects/{id}` - –û–±–Ω–æ–≤–∏—Ç—å –ø—Ä–æ–µ–∫—Ç
- `DELETE /projects/{id}` - –£–¥–∞–ª–∏—Ç—å –ø—Ä–æ–µ–∫—Ç

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** `data/projects.db`
- –¢–∞–±–ª–∏—Ü–∞ `projects`

**–î–æ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è:**
- `project.created` - –ü—Ä–æ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω
- `project.updated` - –ü—Ä–æ–µ–∫—Ç –æ–±–Ω–æ–≤–ª—ë–Ω
- `project.deleted` - –ü—Ä–æ–µ–∫—Ç —É–¥–∞–ª—ë–Ω

---

### 4. **Service Defects** (`backend/service_defects/`)
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–∞–º–∏ –Ω–∞ –æ–±—ä–µ–∫—Ç–∞—Ö
- –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –∫ –¥–µ—Ñ–µ–∫—Ç–∞–º
- –ü—Ä–∏–∫—Ä–µ–ø–ª–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤
- –ü—É–±–ª–∏–∫–∞—Ü–∏—è –¥–æ–º–µ–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π

**–û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
- `POST /defects/` - –°–æ–∑–¥–∞—Ç—å –¥–µ—Ñ–µ–∫—Ç
- `GET /defects/` - –°–ø–∏—Å–æ–∫ –¥–µ—Ñ–µ–∫—Ç–æ–≤
- `GET /defects/{id}` - –ü–æ–ª—É—á–∏—Ç—å –¥–µ—Ñ–µ–∫—Ç
- `PUT /defects/{id}` - –û–±–Ω–æ–≤–∏—Ç—å –¥–µ—Ñ–µ–∫—Ç
- `DELETE /defects/{id}` - –£–¥–∞–ª–∏—Ç—å –¥–µ—Ñ–µ–∫—Ç
- `POST /defects/{id}/comments/` - –î–æ–±–∞–≤–∏—Ç—å –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π
- `POST /defects/{id}/attachments/` - –ü—Ä–∏–∫—Ä–µ–ø–∏—Ç—å —Ñ–∞–π–ª

**–ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö:** `data/defects.db`
- –¢–∞–±–ª–∏—Ü–∞ `defects`
- –¢–∞–±–ª–∏—Ü–∞ `comments`
- –¢–∞–±–ª–∏—Ü–∞ `attachments`

**–î–æ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è:**
- `defect.created` - –î–µ—Ñ–µ–∫—Ç —Å–æ–∑–¥–∞–Ω
- `defect.updated` - –î–µ—Ñ–µ–∫—Ç –æ–±–Ω–æ–≤–ª—ë–Ω
- `defect.status_changed` - –°—Ç–∞—Ç—É—Å –∏–∑–º–µ–Ω—ë–Ω
- `defect.deleted` - –î–µ—Ñ–µ–∫—Ç —É–¥–∞–ª—ë–Ω

---

### 5. **Service Reports** (`backend/service_reports/`)
**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç:**
- –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
- –û—Ç—á—ë—Ç—ã –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º –∏ –¥–µ—Ñ–µ–∫—Ç–∞–º

**–û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:**
- `GET /reports/defects/by-status` - –î–µ—Ñ–µ–∫—Ç—ã –ø–æ —Å—Ç–∞—Ç—É—Å–∞–º
- `GET /reports/defects/by-priority` - –î–µ—Ñ–µ–∫—Ç—ã –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º
- `GET /reports/defects/creation-trend` - –î–∏–Ω–∞–º–∏–∫–∞ —Å–æ–∑–¥–∞–Ω–∏—è
- `GET /reports/projects/performance` - –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –ø—Ä–æ–µ–∫—Ç–æ–≤

---

### 6. **Frontend** (`frontend/`)
**–¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏:**
- Next.js 14 (React)
- TypeScript
- SCSS –º–æ–¥—É–ª–∏
- Axios –¥–ª—è API –∑–∞–ø—Ä–æ—Å–æ–≤

**–û—Å–Ω–æ–≤–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã:**
- `/auth/login` - –í—Ö–æ–¥
- `/auth/register` - –†–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è
- `/dashboard` - –î–∞—à–±–æ—Ä–¥ —Å –∞–Ω–∞–ª–∏—Ç–∏–∫–æ–π
- `/projects` - –°–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤
- `/projects/[id]` - –î–µ—Ç–∞–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞
- `/defects` - –°–ø–∏—Å–æ–∫ –¥–µ—Ñ–µ–∫—Ç–æ–≤
- `/defects/[id]` - –î–µ—Ç–∞–ª–∏ –¥–µ—Ñ–µ–∫—Ç–∞

**–†–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π:**
- **Admin** - –ø–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø
- **Manager** - —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏ –∏ –¥–µ—Ñ–µ–∫—Ç–∞–º–∏
- **Engineer** - —Ä–∞–±–æ—Ç–∞ —Å –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–º–∏ –¥–µ—Ñ–µ–∫—Ç–∞–º–∏
- **Observer** - —Ç–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä

---

## üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### JWT —Ç–æ–∫–µ–Ω—ã
- –ì–µ–Ω–µ—Ä–∏—Ä—É—é—Ç—Å—è –ø—Ä–∏ –≤—Ö–æ–¥–µ
- –•—Ä–∞–Ω—è—Ç—Å—è –≤ `localStorage` –Ω–∞ frontend
- –ü—Ä–æ–≤–µ—Ä—è—é—Ç—Å—è –≤ API Gateway
- –°–æ–¥–µ—Ä–∂–∞—Ç: `user_id`, `username`, `role`
- –°—Ä–æ–∫ –¥–µ–π—Å—Ç–≤–∏—è: 30 –¥–Ω–µ–π

### –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤
**API Gateway:**
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ç–æ–∫–µ–Ω–∞
- –î–µ–∫–æ–¥–∏—Ä—É–µ—Ç JWT
- –ü—Ä–æ–∫–∏–¥—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã

**–ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã:**
- –ü—Ä–æ–≤–µ—Ä—è—é—Ç —Ä–æ–ª–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –æ–ø–µ—Ä–∞—Ü–∏–∏
- Reporter/Assignee/Manager/Admin –∏–º–µ—é—Ç —Ä–∞–∑–Ω—ã–µ –ø—Ä–∞–≤–∞

---

## üîç –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –∏ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### X-Request-ID
- –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è –≤ API Gateway –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞
- –ü—Ä–æ–∫–∏–¥—ã–≤–∞–µ—Ç—Å—è –≤–æ –≤—Å–µ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å—ã
- –õ–æ–≥–∏—Ä—É–µ—Ç—Å—è –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
- –§–æ—Ä–º–∞—Ç: UUID v4

**–ü—Ä–∏–º–µ—Ä –≤ –ª–æ–≥–∞—Ö:**
```
[AUTH] [request_id: abc-123] User logged in: testuser
[PROJECTS] [request_id: abc-123] Project created: id=5
```

### Rate Limiting
- **Auth endpoints:** 20 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É
- **Projects/Defects:** 60 –∑–∞–ø—Ä–æ—Å–æ–≤/–º–∏–Ω—É—Ç—É
- –ë–∏–±–ª–∏–æ—Ç–µ–∫–∞: `slowapi`

---

## üì® –î–æ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

### –ß—Ç–æ —ç—Ç–æ?
–ó–∞–≥–ª—É—à–∫–∏ –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ —Å–æ–±—ã—Ç–∏–π –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –¥–∞–Ω–Ω—ã—Ö. –ì–æ—Ç–æ–≤—ã –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å RabbitMQ/Kafka/Redis.

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è:
**Projects:**
- `project.created`
- `project.updated`
- `project.deleted`

**Defects:**
- `defect.created`
- `defect.updated`
- `defect.status_changed`
- `defect.deleted`

**–ì–¥–µ –Ω–∞—Ö–æ–¥—è—Ç—Å—è:**
- `backend/service_projects/events.py`
- `backend/service_defects/events.py`

**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–µ–π—á–∞—Å:**
```python
# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏—è
logger.info(f"[EVENT] defect.created | ID: {event_id} | Payload: {data}")
```

**–ì–æ—Ç–æ–≤–æ –∫ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏:**
```python
# –í –±—É–¥—É—â–µ–º: –æ—Ç–ø—Ä–∞–≤–∫–∞ –≤ RabbitMQ
await rabbitmq_client.publish(
    exchange="events",
    routing_key=event.event_type,
    message=event.to_json()
)
```

---

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### Postman –∫–æ–ª–ª–µ–∫—Ü–∏—è
**–§–∞–π–ª:** `docs/postman_collection_with_tests.json`

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞:**
- 25 —Ç–µ—Å—Ç–æ–≤
- 50 –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫
- 6 –∫–∞—Ç–µ–≥–æ—Ä–∏–π:
  1. Auth Tests (5 —Ç–µ—Å—Ç–æ–≤)
  2. Projects Tests (5 —Ç–µ—Å—Ç–æ–≤)
  3. Defects Tests (5 —Ç–µ—Å—Ç–æ–≤)
  4. Integration Tests (2 —Ç–µ—Å—Ç–∞)
  5. User Stories (3 —Ç–µ—Å—Ç–∞)
  6. Performance Tests (5 —Ç–µ—Å—Ç–æ–≤)

**–ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å:**
1. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `postman_collection_with_tests.json` –≤ Postman
2. –ó–∞–ø—É—Å—Ç–∏—Ç—å Collection Runner
3. –í—Å–µ —Ç–µ—Å—Ç—ã –≤—ã–ø–æ–ª–Ω—è—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ

---

## üöÄ –ö–∞–∫ –∑–∞–ø—É—Å—Ç–∏—Ç—å

### 1. –ó–∞–ø—É—Å–∫ –≤—Å–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞
```bash
docker-compose up --build
```

**–î–æ—Å—Ç—É–ø–Ω—ã–µ —Å–µ—Ä–≤–∏—Å—ã:**
- Frontend: http://localhost:3000
- API Gateway: http://localhost:8000
- Auth Service: http://localhost:8001
- Projects Service: http://localhost:8002
- Defects Service: http://localhost:8003
- Reports Service: http://localhost:8004

### 2. –û—Å—Ç–∞–Ω–æ–≤–∫–∞
```bash
docker-compose down
```

### 3. –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
docker-compose logs -f [service-name]
```

---

## üìä API –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ

### –¢–µ–∫—É—â–∞—è –≤–µ—Ä—Å–∏—è: v1

**–í—Å–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã –¥–æ—Å—Ç—É–ø–Ω—ã —á–µ—Ä–µ–∑ `/v1/`:**
- `http://localhost:8000/v1/auth/register`
- `http://localhost:8000/v1/projects/`
- `http://localhost:8000/v1/defects/`

**–û–±—Ä–∞—Ç–Ω–∞—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å:**
–°—Ç–∞—Ä—ã–µ –ø—É—Ç–∏ –±–µ–∑ `/v1/` —Ç–æ–∂–µ —Ä–∞–±–æ—Ç–∞—é—Ç –¥–ª—è –ø–ª–∞–≤–Ω–æ–≥–æ –ø–µ—Ä–µ—Ö–æ–¥–∞.

---

## üéØ –ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤

### –£—Å–ø–µ—à–Ω—ã–π –æ—Ç–≤–µ—Ç
```json
{
  "success": true,
  "data": {
    "id": 1,
    "username": "testuser",
    "email": "test@example.com"
  }
}
```

### –û—à–∏–±–∫–∞
```json
{
  "success": false,
  "error": {
    "code": "USER_NOT_FOUND",
    "message": "–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –Ω–∞–π–¥–µ–Ω"
  }
}
```

---

## üíæ –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö

### –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—è: SQLite
**–ü–æ—á–µ–º—É SQLite?**
- –ü—Ä–æ—Å—Ç–æ—Ç–∞ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è
- –ù–µ —Ç—Ä–µ–±—É–µ—Ç –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ —Å–µ—Ä–≤–µ—Ä–∞
- –§–∞–π–ª–æ–≤–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ
- –ü–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è MVP

### –†–∞—Å–ø–æ–ª–æ–∂–µ–Ω–∏–µ –ë–î:
- `backend/service_auth/data/auth.db`
- `backend/service_projects/data/projects.db`
- `backend/service_defects/data/defects.db`

### –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ:
–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ —Å–µ—Ä–≤–∏—Å–∞:
1. –°–æ–∑–¥–∞—ë—Ç—Å—è –ø–∞–ø–∫–∞ `data/`
2. –°–æ–∑–¥–∞—ë—Ç—Å—è —Ñ–∞–π–ª `.db`
3. –ü—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –º–∏–≥—Ä–∞—Ü–∏–∏ (—Å–æ–∑–¥–∞–Ω–∏–µ —Ç–∞–±–ª–∏—Ü)

---

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

### OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è
**–§–∞–π–ª:** `docs/openapi.yaml`

**–ü—Ä–æ—Å–º–æ—Ç—Ä:**
1. –û—Ç–∫—Ä—ã—Ç—å https://editor.swagger.io/
2. –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å `openapi.yaml`

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–æ–∫—É–º–µ–Ω—Ç—ã:
- `README.md` - –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –ø–æ –∑–∞–ø—É—Å–∫—É
- `CHECKLIST_TZ.md` - –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¢–ó
- `docs/TEST_PLAN.md` - –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
- `docs/POSTMAN_TESTS_GUIDE.md` - –ì–∞–π–¥ –ø–æ —Ç–µ—Å—Ç–∞–º
- `backend/EXPLAIN_JWT_TOKENS.md` - –ö–∞–∫ —Ä–∞–±–æ—Ç–∞—é—Ç JWT
- `backend/EXPLAIN_DOCKER_IMAGES.md` - –ü—Ä–æ Docker –æ–±—Ä–∞–∑—ã
- `backend/DOMAIN_EVENTS.md` - –î–æ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è

---

## üéì –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

### Backend:
- **FastAPI** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **SQLAlchemy** - ORM
- **SQLite** - –±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **Pydantic** - –≤–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö
- **passlib** - —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π
- **python-jose** - JWT —Ç–æ–∫–µ–Ω—ã
- **slowapi** - rate limiting
- **httpx** - HTTP –∫–ª–∏–µ–Ω—Ç

### Frontend:
- **Next.js 14** - React —Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **TypeScript** - —Ç–∏–ø–∏–∑–∞—Ü–∏—è
- **Axios** - HTTP –∫–ª–∏–µ–Ω—Ç
- **SCSS** - —Å—Ç–∏–ª–∏

### DevOps:
- **Docker** - –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è
- **Docker Compose** - –æ—Ä–∫–µ—Å—Ç—Ä–∞—Ü–∏—è

---

## ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –¢–ó: 95%

### –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ:
‚úÖ –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞  
‚úÖ API Gateway —Å JWT, Rate Limiting, X-Request-ID  
‚úÖ –°–µ—Ä–≤–∏—Å –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ (—Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è, –≤—Ö–æ–¥, JWT)  
‚úÖ –°–µ—Ä–≤–∏—Å –∑–∞–∫–∞–∑–æ–≤ (–ø—Ä–æ–µ–∫—Ç—ã + –¥–µ—Ñ–µ–∫—Ç—ã)  
‚úÖ –î–æ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è (–∑–∞–≥–ª—É—à–∫–∏)  
‚úÖ –ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –æ—Ç–≤–µ—Ç–æ–≤  
‚úÖ –í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ API (`/v1/`)  
‚úÖ OpenAPI —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—è  
‚úÖ Postman —Ç–µ—Å—Ç—ã (25 —Ç–µ—Å—Ç–æ–≤)  
‚úÖ Docker –∏ Docker Compose  

### –ú–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å:
‚ö†Ô∏è UUID –≤–º–µ—Å—Ç–æ Integer –¥–ª—è ID  
‚ö†Ô∏è –û–∫—Ä—É–∂–µ–Ω–∏—è –¥–ª—è test –∏ prod  
‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –∑–∞–∫–∞–∑–∞  

---

## üë• –†–æ–ª–∏ –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞

| –†–æ–ª—å | –ü—Ä–∞–≤–∞ |
|------|-------|
| **Admin** | –ü–æ–ª–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫–æ –≤—Å–µ–º—É |
| **Manager** | –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞–º–∏, –¥–µ—Ñ–µ–∫—Ç–∞–º–∏, –Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª–µ–π |
| **Engineer** | –†–∞–±–æ—Ç–∞ —Å –Ω–∞–∑–Ω–∞—á–µ–Ω–Ω—ã–º–∏ –¥–µ—Ñ–µ–∫—Ç–∞–º–∏, —Å–æ–∑–¥–∞–Ω–∏–µ –¥–µ—Ñ–µ–∫—Ç–æ–≤ |
| **Observer** | –¢–æ–ª—å–∫–æ –ø—Ä–æ—Å–º–æ—Ç—Ä |

---

## üîß –ü–æ–ª–µ–∑–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

```bash
# –ó–∞–ø—É—Å–∫ –ø—Ä–æ–µ–∫—Ç–∞
docker-compose up --build

# –û—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down

# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
docker-compose logs -f api-gateway

# –ü–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –æ–¥–Ω–æ–≥–æ —Å–µ—Ä–≤–∏—Å–∞
docker-compose build auth-service
docker-compose up -d auth-service

# –û—á–∏—Å—Ç–∫–∞ Docker
docker system prune -f

# –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–±–æ—Ç—ã API
curl http://localhost:8000/health
```

---

## üìû –ö–æ–Ω—Ç–∞–∫—Ç—ã –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞

**–ê–≤—Ç–æ—Ä:** –°—Ç—É–¥–µ–Ω—Ç –∫—É—Ä—Å–∞ –ø–æ –º–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–∞–º  
**–ü—Ä–æ–µ–∫—Ç:** –°–∏—Å—Ç–µ–º–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å—Ç—Ä–æ–∏—Ç–µ–ª—å–Ω—ã–º–∏ –æ–±—ä–µ–∫—Ç–∞–º–∏  
**–î–∞—Ç–∞:** –î–µ–∫–∞–±—Ä—å 2025  

---

## üéâ –ò—Ç–æ–≥

–ü—Ä–æ–µ–∫—Ç **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª–µ–Ω** –∏ –≥–æ—Ç–æ–≤ –∫ —Å–¥–∞—á–µ!

**–û—Å–Ω–æ–≤–Ω—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è:**
- üèóÔ∏è –ú–∏–∫—Ä–æ—Å–µ—Ä–≤–∏—Å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞
- üîê –ü–æ–ª–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è —Å JWT
- üîç –¢—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∞ –∑–∞–ø—Ä–æ—Å–æ–≤ (X-Request-ID)
- ‚ö° Rate Limiting
- üì® –î–æ–º–µ–Ω–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
- üß™ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Å—Ç—ã
- üìö –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–û—Ü–µ–Ω–∫–∞ –ø–æ –¢–ó: 5/5** ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê

